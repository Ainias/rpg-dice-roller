<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Dice Roller demo</title>

  <style>
    code{
      color: #444;
      background: #eee;
    }


    #output{
      width: 100%;
    }
  </style>
</head>

<body>
  <div>
    <form action="" onsubmit="return roll();">
      <label for="input">Notation</label>
      <input type="text" placeholder="eg. 1d6+2d20" autofocus id="input">
      <button type="submit">Roll</button>
    </form>

    <p>Accepted formats:</p>

    <ul>
      <li>
        <code>d6</code> or <code>1d6</code> <small>(A 6 sided die)</small>
      </li>

      <li>
        <code>2d6</code> <small>(Two 6 sided dice)</small>
      </li>

      <li>
        <code>1d6+4</code> <small>(Roll a 6 sided dice and add 4 to the result)</small>
      </li>

      <li>
        <code>2d10*4+1d20</code> <small>(Roll two 10 sided dice multiply by four, and roll one 20 sided die)</small>
      </li>

      <li>
        <code>2d10+4+2d20-L</code> <small>(Roll two 10 sided dice add four, and roll two 20 sided die, taking away the lowest of the two)</small>
      </li>

      <li>
        <code>d%</code> <small>(A percentile die - equivalent to <code>d100</code>)</small>
      </li>
    </ul>

    <p>
      The following mathematical operators can be used: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>
    </p>

    <p>
      <small>See <a href="https://en.wikipedia.org/wiki/Dice_notation" target="_blank">dice notation</a></small>
    </p>
  </div>

  <hr>

  <div>
    <label for="output">Output</label>

    <div>
      <textarea rows="7" id="output" readonly></textarea>
    </div>

    <button onclick="clearLog()">Clear log</button>
  </div>

  <script src="dice-roller.js"></script>
  <script>
    var diceRoller  = new DiceRoller();

    function roll(){
      diceRoller.roll(document.getElementById('input').value);

      document.getElementById('output').value = diceRoller.getLog().shift();

      // stop event propagation
      return false;
    }

    function clearLog(){
      diceRoller.clearLog();

      document.getElementById('output').value = '';

      // stop event propagation
      return false;
    }
  </script>
</body>
</html>
